# Лабораторная работа №1
**Дисциплина:** Программирование на С++  
**Тема:** Ввод/вывод. Файловый ввод/вывод. Основные типы данных и выражения. Понятие функции. Основы компиляции.  
**Выполнил:** Попов П.С.  
**Группа:** P4116  
**Преподаватель:** Лаздин А.В.  
**Дата:** 21.09.2024

## Цель работы
Разработать программу, которая вводит с клавиатуры два или три типа
данных, и в качестве результата выводит в файл функцию, в которой будут
созданы и проинициализированы переменные указанных типов, а также
осуществлены арифметические операции над этими переменными с
последующим выводом результата.

Скомпилировать результат.

## Описание алгоритма
### Структура программы
1. Имеется класс `Parser`, который отвечает за сбор первоначальных данных с консоли о типе и количестве входных переменных.
2. Имеется класс `Generator`, который отвечает за сбор данных о доступных арифметических операциях и генерацию кода результирующей программы. 
### Алгоритм 
Генерация выражений для арифметических операций происходит по следующему алгоритму:
#### Инициализация переменных
- Если инициализируемая переменная имеет целочисленный тип, то она инициализируется при помощи `std::uniform_int_distribution<>` в границах [1,100].
- Если инициализируемая переменная имеет тип с плавающей точкой, то она инициализируется при помощи `std::uniform_real_distribution<>` в границах [1,100].
#### Генерация выражений
1. На основании введенных количества и типов случайным образом выбираются переменные.
2. На основании полученных из файла арифметических операций случайным образом выбираются операнды.
3. Генерируются выражения вида `var op var op var op` в случае трёх переменных и `var op var` иначе.

## Пример работы программы
1. Ввод данных о типах и количестве переменных и операциях. Генерация кода.
```
[pavel@pavel-lt build]$ ./lab-1 
Введите количество переменных [2 или 3]: 3
Выбрано 3 переменных для сценария генерации.
Введите тип переменной #1 (доступные: int, float, double, long int): int
Введите тип переменной #2 (доступные: int, float, double, long int): long double
Ошибка: Недопустимый тип данных. Повторите ввод.
Введите тип переменной #2 (доступные: int, float, double, long int): long int
Введите тип переменной #3 (доступные: int, float, double, long int): double
Выбранные типы переменных: int long int double 
Получены операции: / * + 
```
2. Результат генерации кода
```cpp
#include <iostream>

void f() {
  double var_0 = 83.6825;
  int var_1 = 83;
  int var_2 = 44;
  std::cout << "Result of:" << " var_0 / var_1 / var_1" << " = " <<  var_0 / var_1 / var_1 << "\n";
  std::cout << "Result of:" << " var_1 / var_2 * var_1" << " = " <<  var_1 / var_2 * var_1 << "\n";
  std::cout << "Result of:" << " var_0 + var_0 * var_2" << " = " <<  var_0 + var_0 * var_2 << "\n";
}

int main() {
  f();
  return 0;
}

```
3. Компиляция и запуск сгенерированной программы
```
[pavel@pavel-lt build]$ g++ -o fres ../src/f.cpp 
[pavel@pavel-lt build]$ ./fres 
Result of: var_0 / var_1 / var_1 = 0.0121473
Result of: var_1 / var_2 * var_1 = 156.56818
Result of: var_0 + var_0 * var_2 = 3765.71
```
## Исходный код

https://github.com/popov-p/itmo-cxx-2024, папка Lab-1.

## Недостатки написанной программы
- имеется хардкод количества генерируемых выражений
- поддерживаюстя только базовые арифметические операции "+", "-", "*', "/"
- поддерживаются не все типы, представленные в С++.

## Лог изменений
- Первая версия отчёта загружена 02.10.2024.
- 24.10.2024 заметил микро-ошибку, что вывод программы должен осуществляться функцией `f()`, а не функцией `main()`.